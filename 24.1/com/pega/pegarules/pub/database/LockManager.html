<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LockManager (PegaRULES Java Engine v8.24.50 - PUBLIC)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LockManager (PegaRULES Java Engine v8.24.50 - PUBLIC)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":38,"i8":38,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":6,"i15":6,"i16":6,"i17":6,"i18":6,"i19":38,"i20":6,"i21":6,"i22":6,"i23":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/pega/pegarules/pub/database/LockGoneException.html" title="class in com.pega.pegarules.pub.database"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/pega/pegarules/pub/database/LockManager.Junit.html" title="interface in com.pega.pegarules.pub.database"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/pega/pegarules/pub/database/LockManager.html" target="_top">Frames</a></li>
<li><a href="LockManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.pega.pegarules.pub.database</div>
<h2 title="Interface LockManager" class="title">Interface LockManager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">LockManager</span></pre>
<div class="block">Manages locking and unlocking.  Either an instance or a generic
 string may be locked.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.Junit.html" title="interface in com.pega.pegarules.pub.database">LockManager.Junit</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_ACQUIRED">LOCK_ACQUIRED</a></span></code>
<div class="block">This requestor has obtained the given lock</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_ALREADY_HELD">LOCK_ALREADY_HELD</a></span></code>
<div class="block">This requestor already owns the given lock</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_HELD_BY_ANOTHER">LOCK_HELD_BY_ANOTHER</a></span></code>
<div class="block">This requestor does not own the given lock; it is held by another</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_HELD_BY_NOBODY">LOCK_HELD_BY_NOBODY</a></span></code>
<div class="block">This lock is not held by any requestor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#VERSION">VERSION</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#acquireLock-java.lang.String-boolean-com.pega.pegarules.pub.util.StringMap-">acquireLock</a></span>(java.lang.String&nbsp;aLockName,
           boolean&nbsp;aUnlockOnCommit,
           <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block">Attempts to lock against a specific string, returning a specific
 return status.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#changeDBLocksToHazelCastLocks-com.pega.pegarules.pub.database.Database-">changeDBLocksToHazelCastLocks</a></span>(<a href="../../../../../com/pega/pegarules/pub/database/Database.html" title="interface in com.pega.pegarules.pub.database">Database</a>&nbsp;aDB)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#checkRequiredLocks-java.util.Set-">checkRequiredLocks</a></span>(java.util.Set&nbsp;keyset)</code>
<div class="block">Check that all keys in keyset are locked</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#expireRequestorLocks--">expireRequestorLocks</a></span>()</code>
<div class="block">When current requestor times out expire all locks 
 held by him by moving the expiration date to now</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/pega/pegarules/pub/database/ForceUnlockJobResults.html" title="interface in com.pega.pegarules.pub.database">ForceUnlockJobResults</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#forceUnlockWorkItem-java.lang.String-int-">forceUnlockWorkItem</a></span>(java.lang.String&nbsp;aLockName,
                   int&nbsp;timeoutInSecs)</code>
<div class="block">BUG-674685 @hallm3
 New Method for force-unlocking a work item across a cluster regardless of owner
 It will use remote execution to send the job out to all available nodes in the cluster</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#getLockHandle-com.pega.pegarules.pub.util.StringMap-">getLockHandle</a></span>(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage)</code>
<div class="block">Gets the handle that would be used to lock an instance.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#isLockable-java.lang.String-">isLockable</a></span>(java.lang.String&nbsp;aClassName)</code>
<div class="block">Check the definition of the indicated class to see if it supports locking.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#isLocked-com.pega.pegarules.pub.util.StringMap-com.pega.pegarules.pub.util.StringMap-">isLocked</a></span>(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aLockPage,
        <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">As of version 7.1.9, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-"><code>lockExists(String, StringMap)</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#isLocked-java.lang.String-com.pega.pegarules.pub.util.StringMap-">isLocked</a></span>(java.lang.String&nbsp;aLockName,
        <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">As of version 7.1.9, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-"><code>lockExists(String, StringMap)</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lock-java.lang.String-boolean-">lock</a></span>(java.lang.String&nbsp;aLockName,
    boolean&nbsp;aUnlockOnCommit)</code>
<div class="block">Locks a generic string.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lock-java.lang.String-boolean-com.pega.pegarules.pub.util.StringMap-">lock</a></span>(java.lang.String&nbsp;aLockName,
    boolean&nbsp;aUnlockOnCommit,
    <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block">Locks a generic string.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lock-com.pega.pegarules.pub.util.StringMap-boolean-">lock</a></span>(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
    boolean&nbsp;aUnlockOnCommit)</code>
<div class="block">Locks an instance.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lock-com.pega.pegarules.pub.util.StringMap-boolean-com.pega.pegarules.pub.util.StringMap-">lock</a></span>(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
    boolean&nbsp;aUnlockOnCommit,
    <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block">Locks an instance.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-">lockExists</a></span>(java.lang.String&nbsp;aLockName,
          <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aLockInfoReturned)</code>
<div class="block">Check if active lock is held by a user.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockOnNode-java.lang.String-">lockOnNode</a></span>(java.lang.String&nbsp;aLockName)</code>
<div class="block">Obtain a node-level lock, using the given key</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockOnNode-java.lang.String-com.pega.pegarules.pub.util.StringMap-">lockOnNode</a></span>(java.lang.String&nbsp;aLockName,
          <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</code>
<div class="block">Obtain a node-level lock, using the given key</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#removeExpiredLocks-int-">removeExpiredLocks</a></span>(int&nbsp;aDays)</code>
<div class="block">Remove the lock entries, which are going to expire in @param aDays days.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlock-java.lang.String-boolean-">unlock</a></span>(java.lang.String&nbsp;aLockName,
      boolean&nbsp;aInDifferentRequestor)</code>
<div class="block">Unlocks a generic string.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlock-com.pega.pegarules.pub.util.StringMap-boolean-">unlock</a></span>(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
      boolean&nbsp;aInDifferentRequestor)</code>
<div class="block">Unlocks a generic string.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockAllForOperator--">unlockAllForOperator</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">As of version 6.3, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockForRequestor--"><code>unlockForRequestor()</code></a> instead.</span></div>
</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockForRequestor--">unlockForRequestor</a></span>()</code>
<div class="block">Unlocks all locks held by the current requestor.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockForSession--">unlockForSession</a></span>()</code>
<div class="block">Unlocks all locks held by the current 'session'.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockOnNode-java.lang.String-boolean-">unlockOnNode</a></span>(java.lang.String&nbsp;aLockName,
            boolean&nbsp;aInDifferentRequestor)</code>
<div class="block">Release a node-level lock</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockOnNodeForRequestor--">unlockOnNodeForRequestor</a></span>()</code>
<div class="block">Release all of the node-level locks for the given requestor.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="VERSION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VERSION</h4>
<pre>static final&nbsp;java.lang.String VERSION</pre>
</li>
</ul>
<a name="LOCK_ACQUIRED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCK_ACQUIRED</h4>
<pre>static final&nbsp;int LOCK_ACQUIRED</pre>
<div class="block">This requestor has obtained the given lock</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.pega.pegarules.pub.database.LockManager.LOCK_ACQUIRED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCK_ALREADY_HELD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCK_ALREADY_HELD</h4>
<pre>static final&nbsp;int LOCK_ALREADY_HELD</pre>
<div class="block">This requestor already owns the given lock</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.pega.pegarules.pub.database.LockManager.LOCK_ALREADY_HELD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCK_HELD_BY_ANOTHER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOCK_HELD_BY_ANOTHER</h4>
<pre>static final&nbsp;int LOCK_HELD_BY_ANOTHER</pre>
<div class="block">This requestor does not own the given lock; it is held by another</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.pega.pegarules.pub.database.LockManager.LOCK_HELD_BY_ANOTHER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOCK_HELD_BY_NOBODY">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOCK_HELD_BY_NOBODY</h4>
<pre>static final&nbsp;int LOCK_HELD_BY_NOBODY</pre>
<div class="block">This lock is not held by any requestor.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#com.pega.pegarules.pub.database.LockManager.LOCK_HELD_BY_NOBODY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lock-com.pega.pegarules.pub.util.StringMap-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
             boolean&nbsp;aUnlockOnCommit)
      throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Locks an instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aInstancePage</code> - the page containing the instance to lock</dd>
<dd><code>aUnlockOnCommit</code> - whether we should unlock the page
                                                  when the current transcation is committed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Requestor is left holding the lock, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="lock-com.pega.pegarules.pub.util.StringMap-boolean-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
             boolean&nbsp;aUnlockOnCommit,
             <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)
      throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Locks an instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aInstancePage</code> - the page containing the instance to lock</dd>
<dd><code>aUnlockOnCommit</code> - whether we should unlock the page
                                                  when the current transcation is committed</dd>
<dd><code>aInfo</code> - if the lock attempt is unsuccessful, this is filled in with
                information about the attempt.  The value of
                <code>ErrorMessage</code> is the name of a <code>Rule-Message</code>
                that describes the problem.  In addition, these other keys might be
                set
                <dl><dt><code>pxOwnerId</code><dd>The ID of the Requestor that
                        currently owns the requested lock
                <dt><code>pxExpireDateTime</code><dd>The date and time that the
                        requested lock expires
                <dt><code>pxUpdateOperator</code><dd>The ID of the operator that
                        currently owns the requested lock
                <dt><code>pxUpdateOpName</code><dd>The name of the operator that
                        currently owns the requested lock
                <dt><code>pxLockHandle</code><dd>The lock key that was requested
                </dl></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Requestor is left holding the lock, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="lock-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(java.lang.String&nbsp;aLockName,
             boolean&nbsp;aUnlockOnCommit)
      throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Locks a generic string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock</dd>
<dd><code>aUnlockOnCommit</code> - whether we should unlock
                                                  when the current transcation is committed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Requestor is left holding the lock, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="lock-java.lang.String-boolean-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lock</h4>
<pre>boolean&nbsp;lock(java.lang.String&nbsp;aLockName,
             boolean&nbsp;aUnlockOnCommit,
             <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)
      throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Locks a generic string.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock</dd>
<dd><code>aUnlockOnCommit</code> - whether we should unlock
                                                  when the current transcation is committed</dd>
<dd><code>aInfo</code> - a StringMap to fill in with owner and expiration info
                                                        from an existing lock. This is only filled
                                                        in when lock() returns false.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the Requestor is left holding the lock, false otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="acquireLock-java.lang.String-boolean-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquireLock</h4>
<pre>int&nbsp;acquireLock(java.lang.String&nbsp;aLockName,
                boolean&nbsp;aUnlockOnCommit,
                <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)
         throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Attempts to lock against a specific string, returning a specific
 return status.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock</dd>
<dd><code>aUnlockOnCommit</code> - whether we should unlock
                                                  when the current transcation is committed</dd>
<dd><code>aInfo</code> - if the lock attempt is unsuccessful, this is filled in with
                information about the attempt.  The value of
                <code>ErrorMessage</code> is the name of a <code>Rule-Message</code>
                that describes the problem.  In addition, these other keys might be
                set
                <dl><dt><code>pxOwnerId</code><dd>The ID of the Requestor that
                        currently owns the requested lock
                <dt><code>pxExpireDateTime</code><dd>The date and time that the
                        requested lock expires
                <dt><code>pxUpdateOperator</code><dd>The ID of the operator that
                        currently owns the requested lock
                <dt><code>pxUpdateOpName</code><dd>The name of the operator that
                        currently owns the requested lock
                <dt><code>pxLockHandle</code><dd>The lock key that was requested
                </dl></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one of the LockManager constants: <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_ACQUIRED"><code>LOCK_ACQUIRED</code></a>, <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_ALREADY_HELD"><code>LOCK_ALREADY_HELD</code></a>, <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_HELD_BY_ANOTHER"><code>LOCK_HELD_BY_ANOTHER</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="expireRequestorLocks--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireRequestorLocks</h4>
<pre>int&nbsp;expireRequestorLocks()
                  throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">When current requestor times out expire all locks 
 held by him by moving the expiration date to now</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of locks expired</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if there is a database problem</dd>
</dl>
</li>
</ul>
<a name="checkRequiredLocks-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkRequiredLocks</h4>
<pre>void&nbsp;checkRequiredLocks(java.util.Set&nbsp;keyset)
                 throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Check that all keys in keyset are locked</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keyset</code> - - Set of key strings to check</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code></dd>
</dl>
</li>
</ul>
<a name="unlock-com.pega.pegarules.pub.util.StringMap-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>boolean&nbsp;unlock(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage,
               boolean&nbsp;aInDifferentRequestor)
        throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Unlocks a generic string. If lock is held by a different requestor and
 aInDifferentRequestor is true, this method terminates the other requestor
 and thus releases the lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aInstancePage</code> - the page containing the instance to unlock</dd>
<dd><code>aInDifferentRequestor</code> - if true, then the instance is unlocked even if it is in a
            different requestor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was unlocked, or if the lock does not exist.
         Returns false if the lock could not be unlocked because it had
         been stolen by a different Requestor. This method attempts an
         asynchronous unlock(through requestor termination) if
         aInDifferentRequestor is true and the lock-holding requestor is
         on a different node and always returns false in this case</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="unlock-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlock</h4>
<pre>boolean&nbsp;unlock(java.lang.String&nbsp;aLockName,
               boolean&nbsp;aInDifferentRequestor)
        throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Unlocks a generic string. If lock is held by a different requestor and
 aInDifferentRequestor is true, this method terminates the other requestor
 and thus releases the lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to unlock</dd>
<dd><code>aInDifferentRequestor</code> - if true, then the instance is unlocked even if it is in a
            different requestor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was unlocked, or if the lock does not exist.
         Returns false if the lock could not be unlocked because it had
         been stolen by a different Requestor. This method attempts an
         asynchronous unlock(through requestor termination) if
         aInDifferentRequestor is true and the lock-holding requestor is
         on a different node and always returns false in this case</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="unlockAllForOperator--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockAllForOperator</h4>
<pre>int&nbsp;unlockAllForOperator()
                  throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">As of version 6.3, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#unlockForRequestor--"><code>unlockForRequestor()</code></a> instead.</span></div>
<div class="block">Unlocks all locks held by the current operator.  If the current
 Requestor is not associated with an operator name, then this method
 unlocks all the locks held by the current Requestor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of locks released</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="unlockForRequestor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockForRequestor</h4>
<pre>int&nbsp;unlockForRequestor()
                throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Unlocks all locks held by the current requestor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of locks released</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="unlockForSession--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockForSession</h4>
<pre>int&nbsp;unlockForSession()
              throws <a href="../../../../../com/pega/pegarules/pub/database/LockFailureException.html" title="class in com.pega.pegarules.pub.database">LockFailureException</a></pre>
<div class="block">Unlocks all locks held by the current 'session'.
 Here, session represents the Browser Requestor and might span across multiple REST calls.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of locks released</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/LockFailureException.html" title="class in com.pega.pegarules.pub.database">LockFailureException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="getLockHandle-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLockHandle</h4>
<pre>java.lang.String&nbsp;getLockHandle(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInstancePage)
                        throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">Gets the handle that would be used to lock an instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aInstancePage</code> - the page containing the instance</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock handle, <code>null</code> if this page's class
 does not allow locking</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/BadInputException.html" title="class in com.pega.pegarules.pub.database">BadInputException</a></code> - if <code>aInstancePage</code>
                is not a valid instance page</dd>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/BadClassDefinitionException.html" title="class in com.pega.pegarules.pub.database">BadClassDefinitionException</a></code> - if 
                <code>aInstancePage</code> has a bad instance class (<code>pxObjClass</code>)</dd>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - if something goes wrong</dd>
</dl>
</li>
</ul>
<a name="lockOnNode-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockOnNode</h4>
<pre>boolean&nbsp;lockOnNode(java.lang.String&nbsp;aLockName)</pre>
<div class="block">Obtain a node-level lock, using the given key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock on</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was obtained, false if not.</dd>
</dl>
</li>
</ul>
<a name="lockOnNode-java.lang.String-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockOnNode</h4>
<pre>boolean&nbsp;lockOnNode(java.lang.String&nbsp;aLockName,
                   <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)</pre>
<div class="block">Obtain a node-level lock, using the given key</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock on</dd>
<dd><code>aInfo</code> - if the lock is unsuccessful, this is filled in with
                information about the attempt.  The value of
                <code>ErrorMessage</code> is the name of a <code>Rule-Message</code>
                that describes the problem.  In addition, these other keys might be
                set
                <dl><dt><code>pxOwnerId</code><dd>The ID of the Requestor that
                        currently owns the requested lock
                <dt><code>pxExpireDateTime</code><dd>The date and time that the
                        requested lock expires
                <dt><code>pxUpdateOperator</code><dd>The ID of the operator that
                        currently owns the requested lock
                <dt><code>pxUpdateOpName</code><dd>The name of the operator that
                        currently owns the requested lock
                <dt><code>pxLockHandle</code><dd>The lock key that was requested
                </dl></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was obtained, false if not.</dd>
</dl>
</li>
</ul>
<a name="unlockOnNode-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockOnNode</h4>
<pre>boolean&nbsp;unlockOnNode(java.lang.String&nbsp;aLockName,
                     boolean&nbsp;aInDifferentRequestor)</pre>
<div class="block">Release a node-level lock</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to lock on</dd>
<dd><code>aInDifferentRequestor</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was returned, false if it does not exist</dd>
</dl>
</li>
</ul>
<a name="unlockOnNodeForRequestor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockOnNodeForRequestor</h4>
<pre>int&nbsp;unlockOnNodeForRequestor()</pre>
<div class="block">Release all of the node-level locks for the given requestor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of locks released</dd>
</dl>
</li>
</ul>
<a name="isLockable-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLockable</h4>
<pre>boolean&nbsp;isLockable(java.lang.String&nbsp;aClassName)
            throws <a href="../../../../../com/pega/pegarules/pub/database/BadClassDefinitionException.html" title="class in com.pega.pegarules.pub.database">BadClassDefinitionException</a></pre>
<div class="block">Check the definition of the indicated class to see if it supports locking.
 This is controlled by the setting of the "Allow Locking" checkbox on the
 locking tab of the class's Rule-Obj-Class instance.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aClassName</code> - name of the class to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the class allows locking, <code>false>/code> otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/BadClassDefinitionException.html" title="class in com.pega.pegarules.pub.database">BadClassDefinitionException</a></code> - if the aClassName parameter is blank or null.</dd>
</dl>
</li>
</ul>
<a name="isLocked-com.pega.pegarules.pub.util.StringMap-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>boolean&nbsp;isLocked(<a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aLockPage,
                 <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)
          throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">As of version 7.1.9, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-"><code>lockExists(String, StringMap)</code></a> instead.</span></div>
<div class="block">Check to see if an instance is locked, based on the locking 
 information available in its class definition's "Locking" tab. If this requestor
 owns the lock, then the lock expiration time is reset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockPage</code> - the page of the instance to be locked on.</dd>
<dd><code>aInfo</code> - a Map object which will be populated when lock info is available.
                        This object will be populated when either the lock is refreshed (because
                        the current requestor owns it) or the lock is held by some other requestor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock is held by this requestor (or locking cannot be performed),
                        false if another requestor holds onto the lock, or no lock has been taken</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - when a problem occurs manipulating the locks</dd>
</dl>
</li>
</ul>
<a name="isLocked-java.lang.String-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocked</h4>
<pre>boolean&nbsp;isLocked(java.lang.String&nbsp;aLockName,
                 <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aInfo)
          throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">As of version 7.1.9, use <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-"><code>lockExists(String, StringMap)</code></a> instead.</span></div>
<div class="block">Check to see if a string is locked. If this requestor owns the lock, then the 
 lock expiration time is reset.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to be locked on.</dd>
<dd><code>aInfo</code> - a Map object which will be populated when lock info is available.
                        This object will be populated when either the lock is refreshed (because
                        the current requestor owns it) or the lock is held by some other requestor</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock is held by this requestor (or locking cannot be performed),
                        false if another requestor holds onto the lock, or no lock has been taken</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code> - when a problem occurs manipulating the locks</dd>
</dl>
</li>
</ul>
<a name="lockExists-java.lang.String-com.pega.pegarules.pub.util.StringMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockExists</h4>
<pre>int&nbsp;lockExists(java.lang.String&nbsp;aLockName,
               <a href="../../../../../com/pega/pegarules/pub/util/StringMap.html" title="interface in com.pega.pegarules.pub.util">StringMap</a>&nbsp;aLockInfoReturned)
        throws <a href="../../../../../com/pega/pegarules/pub/database/LockFailureException.html" title="class in com.pega.pegarules.pub.database">LockFailureException</a></pre>
<div class="block">Check if active lock is held by a user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - the string to be locked on</dd>
<dd><code>aLockInfoReturned</code> - the Map object which will be populated when lock info is available. 
    This object will not be populated if no users hold the lock.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one of the LockManager constants: <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_ALREADY_HELD"><code>LOCK_ALREADY_HELD</code></a>, <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_HELD_BY_ANOTHER"><code>LOCK_HELD_BY_ANOTHER</code></a>, <a href="../../../../../com/pega/pegarules/pub/database/LockManager.html#LOCK_HELD_BY_NOBODY"><code>LOCK_HELD_BY_NOBODY</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/LockFailureException.html" title="class in com.pega.pegarules.pub.database">LockFailureException</a></code></dd>
</dl>
</li>
</ul>
<a name="changeDBLocksToHazelCastLocks-com.pega.pegarules.pub.database.Database-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeDBLocksToHazelCastLocks</h4>
<pre>void&nbsp;changeDBLocksToHazelCastLocks(<a href="../../../../../com/pega/pegarules/pub/database/Database.html" title="interface in com.pega.pegarules.pub.database">Database</a>&nbsp;aDB)</pre>
</li>
</ul>
<a name="removeExpiredLocks-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeExpiredLocks</h4>
<pre>int&nbsp;removeExpiredLocks(int&nbsp;aDays)</pre>
<div class="block">Remove the lock entries, which are going to expire in @param aDays days.
 This will remove the lock entries only in lock cache, Doesn't do anything with database entries.   
 Examples: 1. removeExpiredLocks(0) will remove all the entries expired before current time.
           2. removeExpiredLocks(-3) will remove all the entries expired before 3 days.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aDays</code> - Days to purge</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>number of cache entries removed</dd>
</dl>
</li>
</ul>
<a name="forceUnlockWorkItem-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>forceUnlockWorkItem</h4>
<pre><a href="../../../../../com/pega/pegarules/pub/database/ForceUnlockJobResults.html" title="interface in com.pega.pegarules.pub.database">ForceUnlockJobResults</a>&nbsp;forceUnlockWorkItem(java.lang.String&nbsp;aLockName,
                                          int&nbsp;timeoutInSecs)
                                   throws <a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></pre>
<div class="block">BUG-674685 @hallm3
 New Method for force-unlocking a work item across a cluster regardless of owner
 It will use remote execution to send the job out to all available nodes in the cluster</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>aLockName</code> - The lock to be terminated</dd>
<dd><code>timeoutInSecs</code> - seconds to wait before timing out remote jobs</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if successful, false if unsuccessful</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/pega/pegarules/pub/database/DatabaseException.html" title="class in com.pega.pegarules.pub.database">DatabaseException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/pega/pegarules/pub/database/LockGoneException.html" title="class in com.pega.pegarules.pub.database"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/pega/pegarules/pub/database/LockManager.Junit.html" title="interface in com.pega.pegarules.pub.database"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/pega/pegarules/pub/database/LockManager.html" target="_top">Frames</a></li>
<li><a href="LockManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2024 Pegasystems Inc. All Rights Reserved.</i></small></p>
</body>
</html>
